{"id":"voidlabs-kb-0oc","title":"Improve KB accuracy and tooling","description":"Persist backlink cache with watcher refresh, add ranking tweaks/evaluation tooling, enhance doc update support, and expose a quality command.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T20:59:25.432530369-05:00","updated_at":"2025-12-19T21:02:59.763738456-05:00","closed_at":"2025-12-19T21:02:59.763738456-05:00","close_reason":"Backlink cache persisted, ranking tuned, quality tooling added"}
{"id":"voidlabs-kb-17l","title":"Implement markdown parser with frontmatter and link extraction","description":"Create src/voidlabs_kb/parser/ to parse markdown files with YAML frontmatter (title, tags, created required). Extract [[bidirectional links]] for the knowledge graph. Chunk by H2 sections for precise retrieval.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T18:37:53.074120258-05:00","updated_at":"2025-12-19T18:43:13.131867309-05:00","closed_at":"2025-12-19T18:43:13.131867309-05:00","close_reason":"Implemented markdown parser with frontmatter parsing and bidirectional link extraction","dependencies":[{"issue_id":"voidlabs-kb-17l","depends_on_id":"voidlabs-kb-17y","type":"blocks","created_at":"2025-12-19T18:38:16.256040914-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-17y","title":"Create plugin structure and manifest","description":"Create the .claude-plugin/plugin.json manifest, .mcp.json config, pyproject.toml, and directory structure (src/, kb/, commands/, skills/, hooks/). This is the foundation that all other work depends on.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:37:41.093949868-05:00","updated_at":"2025-12-19T18:39:48.296406402-05:00","closed_at":"2025-12-19T18:39:48.296406402-05:00","close_reason":"Created plugin structure: .claude-plugin/plugin.json, .mcp.json, pyproject.toml, src/voidlabs_kb/ with models, config, and stub server"}
{"id":"voidlabs-kb-1xu","title":"Add content field to SearchResult model","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T02:15:29.893335513-05:00","updated_at":"2025-12-20T02:16:13.735422572-05:00","closed_at":"2025-12-20T02:16:13.735422572-05:00","close_reason":"Closed"}
{"id":"voidlabs-kb-3vi","title":"Implement MCP server with FastMCP","description":"Create src/voidlabs_kb/server.py using FastMCP. Implement core tools: search, add, update, get, list, backlinks, reindex, sync. The server should be runnable via 'uv run python -m voidlabs_kb'. Depends on plugin structure being in place.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:37:53.011955749-05:00","updated_at":"2025-12-19T18:48:57.266793575-05:00","closed_at":"2025-12-19T18:48:57.266793575-05:00","close_reason":"Implemented MCP server with 8 tools: search, add, update, get, list, backlinks, reindex, sync","dependencies":[{"issue_id":"voidlabs-kb-3vi","depends_on_id":"voidlabs-kb-17y","type":"blocks","created_at":"2025-12-19T18:38:16.200426091-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlabs-kb-3vi","depends_on_id":"voidlabs-kb-17l","type":"blocks","created_at":"2025-12-19T18:38:16.281993463-05:00","created_by":"daemon","metadata":"{}"},{"issue_id":"voidlabs-kb-3vi","depends_on_id":"voidlabs-kb-z2m","type":"blocks","created_at":"2025-12-19T18:38:16.308374087-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-42e","title":"Add token count to search results and frontmatter","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-20T00:58:33.61398362-05:00","updated_at":"2025-12-20T01:27:19.881336458-05:00","closed_at":"2025-12-20T01:27:19.881336458-05:00","close_reason":"Implemented tiktoken-based token counting (cl100k_base encoding, Claude-compatible). Token counts are:\n- Calculated at parse time in parser/markdown.py\n- Stored in both Whoosh (STORED field) and ChromaDB (metadata)\n- Returned in SearchResult.token_count field\n- Auto-updated via existing FileWatcher on file changes\n\nFiles modified:\n- pyproject.toml: Added tiktoken dependency\n- models.py: Added token_count to DocumentChunk and SearchResult\n- parser/markdown.py: Added _get_token_count() utility\n- indexer/whoosh_index.py: Schema + storage + retrieval\n- indexer/chroma_index.py: Metadata storage + retrieval\n- indexer/hybrid.py: Preserve token_count in RRF merge\n\nRequires reindex after deployment to populate existing entries.","comments":[{"id":2,"issue_id":"voidlabs-kb-42e","author":"chris","text":"Add token counting (using tiktoken) to KB entries. Store token count in index metadata and return in SearchResult. This helps agents estimate context cost when loading entries. Consider: store in frontmatter too for visibility.","created_at":"2025-12-20T05:58:39Z"}]}
{"id":"voidlabs-kb-4fz","title":"Implement content hydration with disk reads","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T02:15:30.684698335-05:00","updated_at":"2025-12-20T02:16:56.903522858-05:00","closed_at":"2025-12-20T02:16:56.903522858-05:00","close_reason":"Closed","dependencies":[{"issue_id":"voidlabs-kb-4fz","depends_on_id":"voidlabs-kb-hoh","type":"blocks","created_at":"2025-12-20T02:15:41.295464465-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-4xm","title":"Quick-add from clipboard/raw content","description":"A tool that takes raw content and auto-generates title, tags, and category based on content analysis. Reduces friction for capturing knowledge by inferring metadata from the content itself.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-22T00:42:33.940084243-05:00","updated_at":"2025-12-22T00:42:33.940084243-05:00"}
{"id":"voidlabs-kb-526","title":"Evaluate large KB scaling with disk-backed Chroma","description":"Current setup loads all embeddings into memory. At 1000+ entries could be 500MB+ RAM. Chroma supports persistent disk storage - evaluate for larger scale.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-19T21:28:22.269010602-05:00","updated_at":"2025-12-19T21:28:22.269010602-05:00"}
{"id":"voidlabs-kb-52j","title":"Test: MCP server tools","description":"Test all 8 MCP tools: search (modes, filters), add (validation, slug generation), update (metadata preservation), get (with backlinks), list (category/tag filters), backlinks, reindex, sync. Verify async execution and error handling.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T19:54:37.469712046-05:00","updated_at":"2025-12-19T19:55:07.687947587-05:00","closed_at":"2025-12-19T19:55:07.687947587-05:00","close_reason":"Passed: 8/8 tools working. search (3 modes + tag filter), add (slug gen, category validation, duplicate detection), update (metadata preserved), get (with backlinks), list (filters), backlinks, reindex, sync."}
{"id":"voidlabs-kb-5dk","title":"Parse beads comments from SQLite instead of bd CLI","description":"## Problem\nComments don't display in the Docker container because the `bd` CLI isn't installed there. The current implementation in `beads_client.py` uses subprocess calls to `bd comments \u003cid\u003e --json`.\n\n## Solution\nParse comments directly from the SQLite database (`.beads/beads.db`) instead of relying on the CLI. This would:\n1. Remove the dependency on `bd` being installed\n2. Work in both local and containerized environments\n3. Be faster (no subprocess overhead)\n\n## Implementation Notes\n- Check the beads SQLite schema for the comments table\n- Add a `_get_comments_via_db()` fallback method similar to `_list_via_jsonl()`\n- The database is already mounted in the container at `/project/.beads/beads.db`\n\n## Files to modify\n- `src/voidlabs_kb/beads_client.py` - Add SQLite fallback for get_comments()","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-22T14:03:14.750426158-05:00","updated_at":"2025-12-22T14:08:52.989256018-05:00","closed_at":"2025-12-22T14:08:52.989256018-05:00","close_reason":"Implemented _get_comments_via_db() SQLite fallback in beads_client.py"}
{"id":"voidlabs-kb-620","title":"Directory/category suggestions for new entries","description":"When adding a new entry, suggest which directory to place it in based on:\n- Content similarity to existing entries in each category\n- Topic clustering\n\nHelps users organize content consistently without needing to know the full KB structure.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T03:29:58.341832224-05:00","updated_at":"2025-12-22T03:29:58.341832224-05:00"}
{"id":"voidlabs-kb-63u","title":"Auto-update contributors field on add/update","description":"The contributors field in frontmatter exists but is never auto-populated. When an agent adds or updates an entry, record their identity (from git config or session context).","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T21:28:16.928138537-05:00","updated_at":"2025-12-19T22:14:57.589850647-05:00","closed_at":"2025-12-19T22:14:57.589850647-05:00","close_reason":"Added _get_current_contributor() that reads git config. add_tool includes contributor in frontmatter on create, update_tool appends to contributors list if not already present."}
{"id":"voidlabs-kb-6no","title":"Add tags tool for taxonomy overview","description":"List all tags with usage counts. Returns [{tag: 'infrastructure', count: 6, entries: [...]}]. Helps discover available tags, find inconsistencies (typos/duplicates), and understand KB coverage.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-20T03:34:09.470535849-05:00","updated_at":"2025-12-20T03:36:05.367784582-05:00","closed_at":"2025-12-20T03:36:05.367784582-05:00","close_reason":"Closed"}
{"id":"voidlabs-kb-6u1","title":"Test: Slash commands","description":"Test /kb search, /kb add, /kb sync commands. Verify frontmatter parsing, tool allowlists, interactive flows, and git operations.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T19:54:38.572118994-05:00","updated_at":"2025-12-19T19:55:08.923823358-05:00","closed_at":"2025-12-19T19:55:08.923823358-05:00","close_reason":"Passed: 3/3 commands. kb-search.md, kb-add.md, kb-sync.md validated. Frontmatter parsing correct, tool allowlists respected, MCP tool integration working."}
{"id":"voidlabs-kb-6zs","title":"Improve indexing reliability and performance","description":"Fix FileWatcher reindexing to call parse_entry correctly and reindex all chunks, cache backlink graph to avoid full KB rescans, and automatically reindex when hybrid searcher starts with empty indices.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T20:49:40.736104176-05:00","updated_at":"2025-12-19T20:52:42.345574708-05:00","closed_at":"2025-12-19T20:52:42.345574708-05:00","close_reason":"Fixed watcher parsing, cached backlinks, and auto-reindex"}
{"id":"voidlabs-kb-76m","title":"Content gap detection tool","description":"Find [[wiki-style links]] that point to non-existent entries.\n\nThese represent topics that are referenced but not yet documented - good candidates for new entries.\n\nCould be a new tool like 'missing_links' or integrated into 'health' audit.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T03:29:58.571308749-05:00","updated_at":"2025-12-22T03:29:58.571308749-05:00"}
{"id":"voidlabs-kb-7gh","title":"Add health tool for KB maintenance audit","description":"Audit KB for problems. Returns: orphans (entries with no incoming backlinks), broken_links ([[links]] pointing to non-existent entries), stale (entries not updated in N days), empty_dirs. Transforms KB from functional to maintainable.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-20T03:34:10.42873793-05:00","updated_at":"2025-12-20T03:36:05.39484313-05:00","closed_at":"2025-12-20T03:36:05.39484313-05:00","close_reason":"Closed"}
{"id":"voidlabs-kb-7id","title":"Graph visualization endpoint","description":"Return node/edge data for rendering a knowledge graph in a web UI. The data is already there (links, backlinks, hubs). Expose it in a format suitable for visualization libraries like D3 or vis.js.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-22T00:42:36.828474156-05:00","updated_at":"2025-12-22T00:42:36.828474156-05:00"}
{"id":"voidlabs-kb-89g","title":"Auto-linking on add/update","description":"When creating or editing entries, automatically suggest [[links]] to insert based on content overlap. Currently suggest_links is manual and post-hoc. This would make it proactive during the editing workflow.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-22T00:42:34.993878232-05:00","updated_at":"2025-12-22T01:23:17.730249057-05:00","closed_at":"2025-12-22T01:23:17.730249057-05:00","close_reason":"Implemented: suggest_links now filters _index.md and has min_score threshold (default 0.5). add and update tools now return {path, suggested_links} with up to 3 high-confidence link suggestions.","comments":[{"id":6,"issue_id":"voidlabs-kb-89g","author":"chris","text":"## Investigation: suggest_links Quality Assessment\n\nTested on 3 entries with varying link density. Findings:\n\n### Score-to-Relevance Correlation\n\n| Score Range | Relevance Rate | Notes |\n|-------------|----------------|-------|\n| \u003e 0.7 | ~90% | High confidence, usually share tags |\n| 0.5 - 0.7 | ~50-60% | Tag overlap helps, pure semantic hit-or-miss |\n| \u003c 0.5 | ~20-30% | Mostly noise |\n\n### Issues Found\n\n1. **`_index.md` leaks through** - Shows up in results but not useful to link\n2. **No score threshold** - Returns low-confidence matches (0.3-0.4)\n3. **Well-linked entries get useless suggestions** - Top matches are duplicates (correctly filtered), leaving only weak matches\n4. **Small KB amplifies noise** - Few entries means low-relevance matches fill the limit\n\n### Recommendations for Auto-linking\n\n1. Set minimum score threshold (0.6+) for auto-suggestions\n2. Filter out `_index.md` and similar meta-entries\n3. Limit to 2-3 high-confidence suggestions rather than 5 medium ones\n4. For add/update workflow: only show suggestions above threshold, not a fixed count","created_at":"2025-12-22T06:18:15Z"}]}
{"id":"voidlabs-kb-8tf","title":"Create kb-usage skill with contribution guidelines","description":"Create skills/kb-usage/SKILL.md with guidance for agents on: when to search vs contribute, entry format requirements, tag taxonomy, linking best practices (encouraged but not forced), and quality guidelines. Include references/ for detailed specs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T18:38:07.185012178-05:00","updated_at":"2025-12-19T18:42:58.869387574-05:00","closed_at":"2025-12-19T18:42:58.869387574-05:00","close_reason":"Created kb-usage skill with contribution guidelines and references","dependencies":[{"issue_id":"voidlabs-kb-8tf","depends_on_id":"voidlabs-kb-17y","type":"blocks","created_at":"2025-12-19T18:38:16.3378229-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-9co","title":"Add embedding model preload at server startup","description":"First search has 2-3s latency while embedding model loads. Add optional preload flag to warm up model on MCP server startup.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T21:28:18.085628518-05:00","updated_at":"2025-12-19T22:16:27.487040864-05:00","closed_at":"2025-12-19T22:16:27.487040864-05:00","close_reason":"Added preload() method to ChromaIndex and HybridSearcher. Server checks KB_PRELOAD env var at startup and warms up embedding model if set."}
{"id":"voidlabs-kb-a53","title":"Bootstrap KB with initial content and categories","description":"Create kb/ directory structure (infrastructure/, devops/, development/, troubleshooting/, architecture/, patterns/). Create kb/_index.md as entry point. Migrate key content from AGENTS.md into appropriate KB entries with proper frontmatter and links.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T18:38:07.270852094-05:00","updated_at":"2025-12-19T18:42:36.367503604-05:00","closed_at":"2025-12-19T18:42:36.367503604-05:00","close_reason":"Bootstrapped KB with index and 6 entries migrated from AGENTS.md","dependencies":[{"issue_id":"voidlabs-kb-a53","depends_on_id":"voidlabs-kb-17y","type":"blocks","created_at":"2025-12-19T18:38:16.418074328-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-a9d","title":"Update MCP tool description for include_content","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-20T02:15:32.09494922-05:00","updated_at":"2025-12-20T02:18:37.357858461-05:00","closed_at":"2025-12-20T02:18:37.357858461-05:00","close_reason":"Closed","dependencies":[{"issue_id":"voidlabs-kb-a9d","depends_on_id":"voidlabs-kb-amt","type":"blocks","created_at":"2025-12-20T02:15:41.350931678-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-af6","title":"Test: Edge cases and error handling","description":"Test edge cases: unicode/emoji content, empty KB, concurrent operations, slug generation edge cases, duplicate detection, invalid category handling, malformed frontmatter (6 types), zero-result searches.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T19:54:40.962859661-05:00","updated_at":"2025-12-19T19:55:11.238145665-05:00","closed_at":"2025-12-19T19:55:11.238145665-05:00","close_reason":"Passed: 9 edge case suites. Unicode/emoji OK, empty KB handled, 5 concurrent ops safe, slug edge cases (minor unicode normalization expected), duplicates blocked, invalid categories rejected with helpful error."}
{"id":"voidlabs-kb-agd","title":"Conversation capture integration with claude-mem","description":"Hook into claude-mem to surface 'this looks like reusable knowledge, add to KB?' when discussing patterns or decisions. Bridge the gap between ephemeral conversation memory and persistent organizational knowledge.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T00:42:35.432178778-05:00","updated_at":"2025-12-22T00:42:35.432178778-05:00"}
{"id":"voidlabs-kb-amt","title":"Write tests for search include_content feature","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T02:15:31.543586765-05:00","updated_at":"2025-12-20T02:18:37.345211561-05:00","closed_at":"2025-12-20T02:18:37.345211561-05:00","close_reason":"Closed","dependencies":[{"issue_id":"voidlabs-kb-amt","depends_on_id":"voidlabs-kb-4fz","type":"blocks","created_at":"2025-12-20T02:15:41.322253646-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-b8p","title":"Add delete tool for KB entries","description":"Complete CRUD by adding delete. Safety: warn if entry has backlinks (other entries link to it). Use force=True to delete anyway. Returns {deleted: path, had_backlinks: [...]}. Also cleans up search indices and view tracking.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-20T03:34:09.008749234-05:00","updated_at":"2025-12-20T03:36:05.326350824-05:00","closed_at":"2025-12-20T03:36:05.326350824-05:00","close_reason":"Closed"}
{"id":"voidlabs-kb-bj4","title":"Create slash commands (/kb search, /kb add, /kb sync)","description":"Create commands/kb-search.md, kb-add.md, kb-sync.md. Search provides quick lookup, add is interactive entry creation, sync commits+pushes KB changes (inspired by beads sync workflow). Commands should use MCP tools internally.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T18:38:07.214848099-05:00","updated_at":"2025-12-19T18:51:33.621384955-05:00","closed_at":"2025-12-19T18:51:33.621384955-05:00","close_reason":"Created 3 slash commands: kb-search, kb-add, kb-sync","dependencies":[{"issue_id":"voidlabs-kb-bj4","depends_on_id":"voidlabs-kb-3vi","type":"blocks","created_at":"2025-12-19T18:38:16.363532161-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-bv5","title":"Audit voidlabs-kb MCP plugin implementation","description":"Review repository structure, MCP server tools, indexing pipeline, parser, watcher, slash commands, and knowledge base content. Document strengths, potential issues, and improvement suggestions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T20:41:27.195293193-05:00","updated_at":"2025-12-19T20:43:40.756083856-05:00","closed_at":"2025-12-19T20:43:40.756083856-05:00","close_reason":"Documented review findings and suggestions"}
{"id":"voidlabs-kb-c03","title":"Create SessionStart hook for context injection","description":"Create hooks/hooks.json and hooks/session-context.py. Hook detects project context from CWD/git, queries KB for relevant entries, and injects top 3-5 summaries. Include caching to avoid repeated queries.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T18:38:07.24361506-05:00","updated_at":"2025-12-19T18:51:33.650156735-05:00","closed_at":"2025-12-19T18:51:33.650156735-05:00","close_reason":"Created SessionStart hook for KB context injection","dependencies":[{"issue_id":"voidlabs-kb-c03","depends_on_id":"voidlabs-kb-3vi","type":"blocks","created_at":"2025-12-19T18:38:16.389811645-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-ce2","title":"Allow agents to manage directory hierarchy","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-19T23:06:45.00734237-05:00","updated_at":"2025-12-20T01:03:36.577017793-05:00","closed_at":"2025-12-20T01:03:36.577017793-05:00","close_reason":"Implemented directory hierarchy management: mkdir, move, rmdir, tree tools; updated add/list to support nested directories; added link rewriting on move; added created/updated dates to search results","comments":[{"id":1,"issue_id":"voidlabs-kb-ce2","author":"chris","text":"Feature request: Enable agents to create, rename, and reorganize the beads directory structure autonomously. Currently the hierarchy is static - agents should be able to create subdirectories for projects/epics, move issues between directories, and manage organizational structure as work evolves.","created_at":"2025-12-20T04:07:01Z"},{"id":3,"issue_id":"voidlabs-kb-ce2","author":"chris","text":"## Implementation Details\n\n### New Tools Added\n- `mkdir`: Creates nested subdirectories within valid categories (e.g., `development/python/frameworks`)\n- `move`: Moves files/directories with automatic link rewriting and index updates\n- `rmdir`: Removes empty directories (category roots protected)\n- `tree`: Displays directory structure with depth control\n\n### Key Implementation Decisions\n1. **Path validation**: Uses `_validate_nested_path()` to prevent path traversal attacks\n2. **Link rewriting**: Batch update function scans all .md files once for efficiency\n3. **Index sync**: Deletes old entries, adds new entries (incremental, not full rebuild)\n4. **Category protection**: Top-level category directories cannot be moved or deleted\n\n### Files Modified\n- `server.py`: +435 lines (tools, path validation helpers)\n- `parser/links.py`: +109 lines (`update_links_in_files`, `update_links_batch`)\n- `indexer/*.py`: Store created/updated dates in indices\n- `models.py`: Added created/updated to SearchResult\n\n### Bonus Feature\nAdded created/updated dates to SearchResult model per user request during implementation.","created_at":"2025-12-20T06:08:28Z"},{"id":4,"issue_id":"voidlabs-kb-ce2","author":"chris","text":"## Review Checklist\n\n### Critical Paths to Verify\n1. **Path traversal prevention** (`server.py:175-207`): `_validate_nested_path()` should reject `..`, absolute paths, and hidden directories\n2. **Move atomicity** (`server.py:800-921`): File move happens before link updates - if link update fails, files are already moved\n3. **Link rewrite regex** (`parser/links.py:170-172`): Pattern must match both `[[path]]` and `[[path.md]]` variants\n\n### Edge Cases to Test\n- Move entry that has backlinks pointing to it\n- Move directory containing multiple entries\n- Move to destination where parent doesn't exist (should error)\n- Try to move/delete category root (should be blocked)\n- Create entry in nested directory that doesn't exist yet (should error with helpful message)\n\n### Not Implemented (Potential Gaps)\n- No rollback if index update fails after file move\n- No validation that moved entry's internal links still resolve\n- `update_links_batch` regex replacement may have issues with overlapping path names (e.g., `dev` vs `development`)\n\n### Testing Done\n- Module imports verified\n- Path validation utilities tested manually\n- Link rewrite regex pattern tested with sample content\n- NO end-to-end tests written\n\n### Suggested Review Focus\n1. Security: Path traversal in `_validate_nested_path()`\n2. Correctness: Link rewrite regex in `update_links_batch()`\n3. Error handling: What happens when move partially fails?","created_at":"2025-12-20T06:09:35Z"}]}
{"id":"voidlabs-kb-cx7","title":"Add grep-style search option to KB search tool","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T01:10:39.01348725-05:00","updated_at":"2025-12-22T01:10:39.01348725-05:00","comments":[{"id":5,"issue_id":"voidlabs-kb-cx7","author":"chris","text":"## Motivation\n\nCurrent `search` tool returns entry-level results (whole documents ranked by relevance). For some use cases, agents need exact substring/regex matching with line-level context.\n\n## Use Cases\n- Finding exact error messages or configuration values\n- Locating all mentions of a specific IP, port, or command\n- Verification queries (\"does X appear anywhere in the KB?\")\n- Seeing surrounding context without a follow-up `get` call\n\n## Proposed Solution\n\nAdd a `mode=\"grep\"` option to the existing search tool:\n\n```python\nsearch(query=\"192.168.1\", mode=\"grep\", context_lines=2)\n```\n\nReturns line-level matches with context:\n```\ninfrastructure/networking.md:42:  gateway: 192.168.1.1\ninfrastructure/networking.md:43:  dns: 192.168.1.1\n```\n\n## Alternatives Considered\n- Separate tool: Rejected (adds decision overhead)\n- Agents using Grep tool directly on kb/: Works but loses KB-aware formatting\n\n## Priority Rationale\nP3 because agents can work around this with the existing Grep tool on the kb/ directory.","created_at":"2025-12-22T06:10:52Z"}]}
{"id":"voidlabs-kb-doa","title":"Test: SessionStart hook","description":"Test context injection hook: project detection from CWD/git, KB query for relevant entries, cache creation/usage, graceful handling of non-project directories.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T19:54:39.488625219-05:00","updated_at":"2025-12-19T19:55:10.134213228-05:00","closed_at":"2025-12-19T19:55:10.134213228-05:00","close_reason":"Passed: Hook injects context for voidlabs-kb project, creates cache file, gracefully returns empty for non-project dirs. Tested: project detection, KB query, cache read/write."}
{"id":"voidlabs-kb-duu","title":"Entry templates for common types","description":"Pre-defined structures for common entry types: runbook, ADR (Architecture Decision Record), project overview, troubleshooting guide. Ensures consistency and reduces friction when adding new entries.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T00:42:36.344810085-05:00","updated_at":"2025-12-22T00:42:36.344810085-05:00"}
{"id":"voidlabs-kb-e78","title":"Migrate to markdown-it-py for server-side markdown parsing","description":"Hand-rolled regex markdown parsing caused missing table support. markdown-it-py is already in deps (via rich/mcp). Should replace extract_links() regex with proper AST-based parsing and create wikilink plugin for single-pass HTML+link extraction.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-22T02:27:03.518806595-05:00","updated_at":"2025-12-22T03:06:33.333044869-05:00","closed_at":"2025-12-22T03:06:33.333044869-05:00","close_reason":"Migrated to markdown-it-py with wikilink plugin"}
{"id":"voidlabs-kb-ed8","title":"Optimize Docker build with aggressive caching","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-22T14:42:08.876710783-05:00","updated_at":"2025-12-22T14:42:08.876710783-05:00","comments":[{"id":8,"issue_id":"voidlabs-kb-ed8","author":"chris","text":"Build is slow due to:\n- Using --no-cache for every rebuild\n- Embedding model download (~90MB) not cached across builds\n- Dependencies reinstalled on any source change\n\nSolutions:\n- Drop --no-cache for dev iterations\n- Use BuildKit mount caches for pip/uv\n- Separate pyproject.toml COPY from src COPY to preserve deps layer\n- Consider pre-built base image with deps baked in","created_at":"2025-12-22T19:42:20Z"}]}
{"id":"voidlabs-kb-f2y","title":"Entry diff/history via git","description":"Since entries are markdown files in a git repo, expose commit history for any entry. Answer questions like 'What changed in this doc?' and 'Who contributed to this entry?' without leaving the MCP interface.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-22T00:42:48.069047035-05:00","updated_at":"2025-12-22T00:42:48.069047035-05:00"}
{"id":"voidlabs-kb-hoh","title":"Add include_content parameter to search tool","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T02:15:30.284870838-05:00","updated_at":"2025-12-20T02:16:56.896933468-05:00","closed_at":"2025-12-20T02:16:56.896933468-05:00","close_reason":"Closed","dependencies":[{"issue_id":"voidlabs-kb-hoh","depends_on_id":"voidlabs-kb-1xu","type":"blocks","created_at":"2025-12-20T02:15:41.25615943-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-hya","title":"Add full document context option to search results","description":"Results show chunk content but not surrounding context. For troubleshooting entries, users often want full doc not just matching section. Add expand/context option.","status":"closed","priority":4,"issue_type":"feature","created_at":"2025-12-19T21:28:23.386156357-05:00","updated_at":"2025-12-20T02:18:37.359064549-05:00","closed_at":"2025-12-20T02:18:37.359064549-05:00","close_reason":"Closed"}
{"id":"voidlabs-kb-i4c","title":"Add 'what's new' and 'top N by views' listings for agents","description":"Enable agents to discover recent activity and popular issues via: (1) What's New - recently created/updated/commented issues, (2) Top N by Views - most frequently accessed issues. Helps agents understand project momentum and find high-traffic areas needing attention.","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-19T23:08:08.947452363-05:00","updated_at":"2025-12-20T01:59:09.739455409-05:00","closed_at":"2025-12-20T01:59:09.739455409-05:00","close_reason":"Implemented whats_new and popular MCP tools with view tracking infrastructure"}
{"id":"voidlabs-kb-ixg","title":"Add entry staleness/deprecation workflow","description":"No mechanism to flag outdated entries or deprecate old content. Consider: status field (draft/published/archived), last-verified date, or explicit deprecation command.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-19T21:28:21.121660617-05:00","updated_at":"2025-12-19T21:28:21.121660617-05:00"}
{"id":"voidlabs-kb-kbw","title":"Project-aware search context","description":"Automatically weight search results by current project context. When working in epstein/, boost DocViewer entries. The git remote is already extracted for contributor tracking - extend this to bias search results toward entries related to the current project.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-22T00:42:32.476569305-05:00","updated_at":"2025-12-22T00:56:06.637585086-05:00","closed_at":"2025-12-22T00:56:06.637585086-05:00","close_reason":"Implemented project-aware search context. Search now auto-detects current project and boosts entries created from that project by +0.15. Changes: added source_project to SearchResult model, Whoosh schema, and Chroma metadata; added project context boosting in HybridSearcher._apply_ranking_adjustments(); wired up auto-detection in search_tool()."}
{"id":"voidlabs-kb-kyj","title":"Multi-KB federation","description":"Query across multiple knowledge bases (org-wide + project-specific) with unified search. Allow projects to have their own local KB that federates with the central org KB.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-22T00:42:37.66039608-05:00","updated_at":"2025-12-22T00:42:37.66039608-05:00"}
{"id":"voidlabs-kb-l5b","title":"Did you mean? search suggestions","description":"When search results are sparse or empty, suggest related queries or show entries with similar tags. Helps users find what they're looking for even with imprecise queries.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-22T00:42:32.949663031-05:00","updated_at":"2025-12-22T00:42:32.949663031-05:00"}
{"id":"voidlabs-kb-lke","title":"Test: Search accuracy validation","description":"Create test documents across categories, run search queries in hybrid/keyword/semantic modes, verify expected results appear in top positions. Target: 85%+ accuracy. Document false positives/negatives.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T19:54:42.054336597-05:00","updated_at":"2025-12-19T19:55:12.50676768-05:00","closed_at":"2025-12-19T19:55:12.50676768-05:00","close_reason":"Passed: 85.7% accuracy (6/7 queries). Created 5 test docs. Hybrid mode best overall, semantic handles typos well, keyword precise for exact matches. One false negative on abbreviated query."}
{"id":"voidlabs-kb-pvs","title":"Add search result deduplication by path","description":"Multiple chunks from the same document can appear in search results. Deduplicate by path, keeping highest-scoring chunk per document.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T21:28:15.762102258-05:00","updated_at":"2025-12-19T21:58:57.54622262-05:00","closed_at":"2025-12-19T21:58:57.54622262-05:00","close_reason":"Added _deduplicate_by_path method to HybridSearcher. All search modes now deduplicate by document path, keeping highest-scoring chunk."}
{"id":"voidlabs-kb-r40","title":"Auto-summarization for entries missing descriptions","description":"Generate a one-line summary/description for entries that are missing the 'description' field in frontmatter.\n\nCould use the entry content to generate a concise summary, or prompt the user to add one during health checks.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-22T03:29:58.800712758-05:00","updated_at":"2025-12-22T03:29:58.800712758-05:00"}
{"id":"voidlabs-kb-s4c","title":"Unify session hook and MCP server parsing","description":"session-context.py uses simplified regex frontmatter parsing while MCP server uses full YAML parser. Edge cases will parse differently. Options: hook calls MCP search, or extract shared parsing module.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T21:28:19.05328887-05:00","updated_at":"2025-12-19T22:00:29.033891912-05:00","closed_at":"2025-12-19T22:00:29.033891912-05:00","close_reason":"Session hook now imports parse_entry from voidlabs_kb.parser for consistent YAML parsing. Hook runs via uv to access package dependencies. Execution time: ~0.2s."}
{"id":"voidlabs-kb-sjg","title":"Add SearchResponse wrapper with warnings","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T02:15:31.102597693-05:00","updated_at":"2025-12-20T02:16:13.748479152-05:00","closed_at":"2025-12-20T02:16:13.748479152-05:00","close_reason":"Closed","dependencies":[{"issue_id":"voidlabs-kb-sjg","depends_on_id":"voidlabs-kb-1xu","type":"blocks","created_at":"2025-12-20T02:15:41.223662266-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-t49","title":"Implement concurrency handling for multi-agent writes","description":"Two agents editing the same file simultaneously causes data loss (last write wins). Need locking, optimistic concurrency, or conflict detection strategy.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T21:28:20.029288892-05:00","updated_at":"2025-12-19T21:37:58.793891452-05:00","closed_at":"2025-12-19T21:37:58.793891452-05:00","close_reason":"Decided: Option 1 (last write wins). Removed git sync complexity entirely - agents write files directly. Conflicts are rare and non-catastrophic for org KB. YAGNI."}
{"id":"voidlabs-kb-wm2","title":"Test: Hybrid search indexer","description":"Test Whoosh BM25 keyword search, Chroma semantic search, and RRF hybrid merge. Covers: indexing, reindexing, delete operations, empty KB handling, search mode comparison.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T19:54:36.460130179-05:00","updated_at":"2025-12-19T19:55:06.752761798-05:00","closed_at":"2025-12-19T19:55:06.752761798-05:00","close_reason":"Passed after bug fix. Fixed parse_entry() API call in hybrid.py:205. Verified: Whoosh BM25 ranking, Chroma cosine similarity, RRF merge (k=60), empty KB handling, 66 chunks indexed from 11 files."}
{"id":"voidlabs-kb-wr5","title":"Broken external link checking","description":"The health audit catches broken [[internal links]] but not broken https:// URLs. Add external URL validation to the health check to catch stale external references.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T00:42:35.873261795-05:00","updated_at":"2025-12-22T00:42:35.873261795-05:00"}
{"id":"voidlabs-kb-x1j","title":"Search history and recent queries","description":"Track what users have searched for to speed up re-finding content. The popular tool tracks views but not queries. Could show recent searches and allow quick re-execution.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T00:42:34.586641404-05:00","updated_at":"2025-12-22T00:42:34.586641404-05:00"}
{"id":"voidlabs-kb-xzl","title":"Related entries discovery tool","description":"A read-only tool for discovering related entries, similar to suggest_links but focused on exploration rather than editing.\n\n'Show me entries related to this one' - useful for knowledge discovery and understanding connections without modifying anything.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T03:29:59.039404209-05:00","updated_at":"2025-12-22T03:29:59.039404209-05:00"}
{"id":"voidlabs-kb-y2u","title":"Duplicate detection before entry creation","description":"Before creating a new entry, check for existing entries with very high semantic similarity.\n\nIf found, warn: 'Did you mean to update infrastructure/voidlabs-storage.md instead?'\n\nThis prevents accidental duplicate documentation and encourages consolidation.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-22T03:29:58.120728081-05:00","updated_at":"2025-12-22T03:29:58.120728081-05:00","comments":[{"id":7,"issue_id":"voidlabs-kb-y2u","author":"chris","text":"Testing comment display in the web UI modal. This comment should show up when viewing issue details.","created_at":"2025-12-22T18:58:08Z"}]}
{"id":"voidlabs-kb-y4r","title":"Test: Markdown parser validation","description":"Test frontmatter parsing, H2 chunking, [[link]] extraction, and error handling for malformed content. Covers: required fields validation, unicode/emoji handling, nested code blocks, ParseError on invalid YAML.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T19:54:35.506148408-05:00","updated_at":"2025-12-19T19:55:05.602466084-05:00","closed_at":"2025-12-19T19:55:05.602466084-05:00","close_reason":"Passed: 5/5 tests. Validated required fields (title, tags, created), rejected 6 malformed frontmatter types, handled unicode/emoji/Japanese chars, nested code blocks with quotes, wiki link extraction."}
{"id":"voidlabs-kb-z2m","title":"Implement hybrid search indexer","description":"Create src/voidlabs_kb/indexer/ with Whoosh (keyword) and Chroma (semantic) indices. Implement RRF (Reciprocal Rank Fusion) merge algorithm. Use all-MiniLM-L6-v2 for local embeddings. Include file watcher for auto-reindex on changes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:37:53.043100141-05:00","updated_at":"2025-12-19T18:43:56.220142967-05:00","closed_at":"2025-12-19T18:43:56.220142967-05:00","close_reason":"Implemented hybrid Whoosh+Chroma indexer with RRF merge","dependencies":[{"issue_id":"voidlabs-kb-z2m","depends_on_id":"voidlabs-kb-17y","type":"blocks","created_at":"2025-12-19T18:38:16.230713591-05:00","created_by":"daemon","metadata":"{}"}]}
{"id":"voidlabs-kb-zo5","title":"Tag suggestions for add/update tools","description":"When adding or updating an entry, suggest relevant tags based on:\n- Content analysis (keywords, topics)\n- Existing tag taxonomy (prefer existing tags over new ones)\n- Tags used by semantically similar entries\n\nPrevents tag drift and ensures consistent tagging across the KB.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-22T03:29:57.902387875-05:00","updated_at":"2025-12-22T03:39:54.378110505-05:00","closed_at":"2025-12-22T03:39:54.378110505-05:00","close_reason":"Closed"}
