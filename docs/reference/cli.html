<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLI Reference - Memex</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <a href="/" class="logo">
                <div class="logo-mark"></div>
                <div class="logo-text">Memex<span> / knowledge</span></div>
            </a>

            <div class="search-container">
                <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
                <input type="text" id="search-input" placeholder="Search knowledge base..." autocomplete="off">
                <div id="search-results"></div>
            </div>

            <div class="header-nav">
                <a href="/" class="nav-link active">Reader</a>
                <a href="/graph.html" class="nav-link">Graph</a>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">Categories</div>
            <div class="tree">
            <div class="tree-folder">
                <div class="tree-folder-header">
                    <span class="tree-icon folder">üìÅ</span>
                    <span class="tree-label">guides</span>
                </div>
                <div class="tree-children">
                    <a href="/guides/ai-integration.html" class="tree-item">
                        <span class="tree-icon file">‚óá</span>
                        <span class="tree-label">ai-integration</span>
                    </a>
                    <a href="/guides/installation.html" class="tree-item">
                        <span class="tree-icon file">‚óá</span>
                        <span class="tree-label">installation</span>
                    </a>
                    <a href="/guides/mcp-setup.html" class="tree-item">
                        <span class="tree-icon file">‚óá</span>
                        <span class="tree-label">mcp-setup</span>
                    </a>
                    <a href="/guides/quick-start.html" class="tree-item">
                        <span class="tree-icon file">‚óá</span>
                        <span class="tree-label">quick-start</span>
                    </a>
                </div>
            </div>
            <div class="tree-folder">
                <div class="tree-folder-header">
                    <span class="tree-icon folder">üìÅ</span>
                    <span class="tree-label">reference</span>
                </div>
                <div class="tree-children">
                    <a href="/reference/cli.html" class="tree-item active">
                        <span class="tree-icon file">‚óá</span>
                        <span class="tree-label">cli</span>
                    </a>
                    <a href="/reference/entry-format.html" class="tree-item">
                        <span class="tree-icon file">‚óá</span>
                        <span class="tree-label">entry-format</span>
                    </a>
                </div>
            </div></div>
        </aside>

        <!-- Main content -->
        <main class="main">
            
<div class="reader-container">
    <article class="entry">
        <header class="entry-header">
            <div class="entry-path">reference/cli</div>
            <h1 class="entry-title">CLI Reference</h1>
            <div class="entry-meta">
                
                <div class="entry-meta-item">Created: <span>2026-01-06 00:00:00</span></div>
                
            </div>
            
            <div class="entry-tags">
                
                <a href="/tags/cli.html" class="tag">cli</a>
                
                <a href="/tags/reference.html" class="tag">reference</a>
                
                <a href="/tags/commands.html" class="tag">commands</a>
                
            </div>
            
        </header>
        <div class="entry-content">
            <h1>CLI Reference</h1>
<p>The <code>mx</code> CLI provides token-efficient access to your knowledge base.</p>
<h2>Search Commands</h2>
<h3>mx search</h3>
<p>Search the knowledge base with hybrid keyword + semantic search.</p>
<pre><code class="language-bash">mx search &quot;query&quot;                    # Hybrid search
mx search &quot;docker&quot; --tags=infra      # Filter by tag
mx search &quot;api&quot; --mode=semantic      # Semantic only
mx search &quot;api&quot; --mode=keyword       # Keyword only
mx search &quot;query&quot; --limit=20         # More results
mx search &quot;query&quot; --content          # Include full content
mx search &quot;query&quot; --strict           # No semantic fallback
mx search &quot;query&quot; --terse            # Paths only
mx search &quot;query&quot; --json             # JSON output
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--tags, -t</code>: Filter by tags (comma-separated)</li>
<li><code>--mode</code>: Search mode (hybrid, keyword, semantic)</li>
<li><code>--limit, -n</code>: Maximum results (default: 10)</li>
<li><code>--content, -c</code>: Include full content in results</li>
<li><code>--strict</code>: Disable semantic fallback</li>
<li><code>--terse</code>: Output paths only</li>
<li><code>--json</code>: JSON output</li>
</ul>
<h3>mx history</h3>
<p>View and re-run past searches.</p>
<pre><code class="language-bash">mx history                  # Show last 10 searches
mx history -n 20            # Show last 20
mx history --rerun 1        # Re-run most recent
mx history --clear          # Clear history
</code></pre>
<h2>Read Commands</h2>
<h3>mx get</h3>
<p>Read a knowledge base entry.</p>
<pre><code class="language-bash">mx get tooling/my-entry.md            # Full entry
mx get tooling/my-entry.md --metadata # Metadata only
mx get tooling/my-entry.md --json     # JSON output
</code></pre>
<h3>mx list</h3>
<p>List entries with optional filters.</p>
<pre><code class="language-bash">mx list                        # All entries
mx list --tag=infrastructure   # Filter by tag
mx list --category=tooling     # Filter by category
mx list --limit=50             # More results
</code></pre>
<h3>mx tree</h3>
<p>Display directory structure.</p>
<pre><code class="language-bash">mx tree                    # Full tree
mx tree tooling            # Specific path
mx tree --depth=2          # Limit depth
</code></pre>
<h2>Write Commands</h2>
<h3>mx add</h3>
<p>Create a new entry.</p>
<pre><code class="language-bash">mx add --title=&quot;My Entry&quot; --tags=&quot;foo,bar&quot; --category=tooling --content=&quot;...&quot;
mx add --title=&quot;...&quot; --tags=&quot;...&quot; --category=... --file=content.md
cat content.md | mx add --title=&quot;...&quot; --tags=&quot;...&quot; --category=... --stdin
mx add --title=&quot;...&quot; --tags=&quot;...&quot; --template=troubleshooting
mx add --title=&quot;...&quot; --tags=&quot;...&quot; --dry-run  # Preview only
</code></pre>
<p><strong>Required:</strong></p>
<ul>
<li><code>--title, -t</code>: Entry title</li>
<li><code>--tags</code>: Tags (comma-separated)</li>
<li><code>--category, -c</code>: Target directory (unless .kbcontext sets primary)</li>
</ul>
<h3>mx update</h3>
<p>Update an existing entry.</p>
<pre><code class="language-bash">mx update path/entry.md --tags=&quot;new,tags&quot;
mx update path/entry.md --content=&quot;New content&quot;
mx update path/entry.md --content=&quot;Append this&quot; --append
mx update path/entry.md --content=&quot;...&quot; --append --timestamp
mx update path/entry.md --file=new-content.md
</code></pre>
<h3>mx patch</h3>
<p>Surgical find-replace edits.</p>
<pre><code class="language-bash">mx patch path/entry.md --old=&quot;old text&quot; --new=&quot;new text&quot;
mx patch path/entry.md --old=&quot;TODO&quot; --new=&quot;DONE&quot; --replace-all
mx patch path/entry.md --old=&quot;...&quot; --new=&quot;...&quot; --dry-run
</code></pre>
<h3>mx upsert</h3>
<p>Create or append to entry by title.</p>
<pre><code class="language-bash">mx upsert &quot;Daily Log&quot; --content=&quot;Session summary&quot;
mx upsert &quot;API Docs&quot; --file=api.md --tags=&quot;api,docs&quot;
mx upsert &quot;Debug Log&quot; --content=&quot;...&quot; --no-create  # Error if not found
</code></pre>
<h3>mx delete</h3>
<p>Delete an entry.</p>
<pre><code class="language-bash">mx delete path/entry.md
mx delete path/entry.md --force  # Delete even with backlinks
</code></pre>
<h2>Analysis Commands</h2>
<h3>mx health</h3>
<p>Audit KB for problems.</p>
<pre><code class="language-bash">mx health
mx health --json
</code></pre>
<p>Checks for:</p>
<ul>
<li>Orphaned entries (no backlinks)</li>
<li>Broken links</li>
<li>Stale content (&gt;90 days)</li>
<li>Missing frontmatter</li>
</ul>
<h3>mx hubs</h3>
<p>Show most connected entries.</p>
<pre><code class="language-bash">mx hubs
mx hubs --limit=5
</code></pre>
<h3>mx suggest-links</h3>
<p>Find semantically related entries.</p>
<pre><code class="language-bash">mx suggest-links path/entry.md
mx suggest-links path/entry.md --limit=10
</code></pre>
<h3>mx tags</h3>
<p>List all tags with counts.</p>
<pre><code class="language-bash">mx tags
mx tags --min-count=3
</code></pre>
<h2>Browse Commands</h2>
<h3>mx info</h3>
<p>Show KB configuration and stats.</p>
<pre><code class="language-bash">mx info
mx info --json
</code></pre>
<h3>mx whats-new</h3>
<p>Show recently modified entries.</p>
<pre><code class="language-bash">mx whats-new                      # Last 30 days
mx whats-new --days=7             # Last week
mx whats-new --project=myapp      # Filter by project
mx whats-new --limit=20           # More results
</code></pre>
<h2>Context Commands</h2>
<h3>mx context</h3>
<p>Manage project-specific KB context.</p>
<pre><code class="language-bash">mx context                  # Show current context
mx context init             # Create .kbcontext file
mx context validate         # Validate context paths
</code></pre>
<h2>Publishing</h2>
<h3>mx publish</h3>
<p>Generate static HTML site.</p>
<pre><code class="language-bash">mx publish                           # Build to _site/
mx publish -o docs                   # Build to docs/
mx publish --base-url /my-kb         # For subdirectory hosting
mx publish --include-drafts          # Include draft entries
</code></pre>
<h2>Maintenance</h2>
<h3>mx reindex</h3>
<p>Rebuild search indices.</p>
<pre><code class="language-bash">mx reindex
</code></pre>
<h3>mx prime</h3>
<p>Output agent workflow context (for hooks).</p>
<pre><code class="language-bash">mx prime                    # Auto-detect mode
mx prime --full             # Force full output
mx prime --mcp              # Force minimal output
</code></pre>
<h2>Global Options</h2>
<p>All commands support:</p>
<ul>
<li><code>--json</code>: JSON output</li>
<li><code>--help</code>: Show help</li>
</ul>
<h2>See Also</h2>
<ul>
<li><a href="../guides/installation.html" class="wikilink">Installation Guide</a></li>
<li><a href="../guides/ai-integration.html" class="wikilink">AI Agent Integration</a></li>
<li><a href="entry-format.html" class="wikilink">Entry Format</a></li>
</ul>

        </div>
    </article>
</div>
        </main>

        <!-- Right panel -->
        <aside class="panel">
            
        <div class="panel-section">
            <div class="panel-header">Outgoing Links</div>
            <ul class="link-list">
                <li class="link-item">
                    <a href="/guides/ai-integration.html">
                        <div class="link-title">AI Agent Integration</div>
                        <div class="link-path">guides/ai-integration</div>
                    </a>
                </li>
                <li class="link-item">
                    <a href="/guides/installation.html">
                        <div class="link-title">Installation Guide</div>
                        <div class="link-path">guides/installation</div>
                    </a>
                </li>
                <li class="link-item">
                    <a href="/reference/entry-format.html">
                        <div class="link-title">Entry Format Reference</div>
                        <div class="link-path">reference/entry-format</div>
                    </a>
                </li>
            </ul>
        </div>
        <div class="panel-section">
            <div class="panel-header">Backlinks</div>
            <ul class="link-list">
                <li class="link-item">
                    <a href="/guides/ai-integration.html">
                        <div class="link-title">AI Agent Integration</div>
                        <div class="link-path">guides/ai-integration</div>
                    </a>
                </li>
                <li class="link-item">
                    <a href="/guides/installation.html">
                        <div class="link-title">Installation Guide</div>
                        <div class="link-path">guides/installation</div>
                    </a>
                </li>
                <li class="link-item">
                    <a href="/guides/mcp-setup.html">
                        <div class="link-title">MCP Server Setup</div>
                        <div class="link-path">guides/mcp-setup</div>
                    </a>
                </li>
                <li class="link-item">
                    <a href="/guides/quick-start.html">
                        <div class="link-title">Quick Start Guide</div>
                        <div class="link-path">guides/quick-start</div>
                    </a>
                </li>
                <li class="link-item">
                    <a href="/reference/entry-format.html">
                        <div class="link-title">Entry Format Reference</div>
                        <div class="link-path">reference/entry-format</div>
                    </a>
                </li>
            </ul>
        </div>
        </aside>
    </div>

    <script>window.BASE_URL = "";</script>
    <script src="/assets/search.js"></script>
    <script>hljs.highlightAll(); mermaid.initialize({startOnLoad: true, theme: 'dark'});</script>
</body>
</html>
